<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Ssrc C++/Lua/Perl/Python/Ruby Bindings for Spread API: Mailbox.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">  
</head><body bgcolor="#ffffff">
<div style="text-align: left; clear: both;">
<a href="http://www.savarese.com/"><img src="logoSmall.jpg"
alt="Savarese Software Research Corporation" width="144" height="36" border="0" align="top"
hspace="0" vspace="0"></img></a>
<br clear="all" />
</div>

<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_7512ac95179c9c3704912cd55194388a.html">ssrc</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_c06a34e47a06b6ac4c1000cf3ecf6c64.html">spread</a>
  </div>
</div>
<div class="contents">
<h1>Mailbox.h</h1><a href="a00022.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> *</span>
<a name="l00003"></a>00003 <span class="comment"> * Copyright 2006 Savarese Software Research Corporation</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * Licensed under the Apache License, Version 2.0 (the "License");</span>
<a name="l00006"></a>00006 <span class="comment"> * you may not use this file except in compliance with the License.</span>
<a name="l00007"></a>00007 <span class="comment"> * You may obtain a copy of the License at</span>
<a name="l00008"></a>00008 <span class="comment"> *</span>
<a name="l00009"></a>00009 <span class="comment"> *     http://www.savarese.com/software/ApacheLicense-2.0</span>
<a name="l00010"></a>00010 <span class="comment"> *</span>
<a name="l00011"></a>00011 <span class="comment"> * Unless required by applicable law or agreed to in writing, software</span>
<a name="l00012"></a>00012 <span class="comment"> * distributed under the License is distributed on an "AS IS" BASIS,</span>
<a name="l00013"></a>00013 <span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<a name="l00014"></a>00014 <span class="comment"> * See the License for the specific language governing permissions and</span>
<a name="l00015"></a>00015 <span class="comment"> * limitations under the License.</span>
<a name="l00016"></a>00016 <span class="comment"> */</span>
<a name="l00017"></a>00017 
<a name="l00023"></a>00023 <span class="preprocessor">#ifndef __SSRC_SPREAD_MAILBOX_H</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span><span class="preprocessor">#define __SSRC_SPREAD_MAILBOX_H</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="a00026.html" title="This header defines the ScatterMessage class.">ssrc/spread/ScatterMessage.h</a>&gt;</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <a class="code" href="a00019.html#ce1c55468db474ed956a52e5d0ea2b4e">__BEGIN_NS_SSRC_SPREAD</a>
<a name="l00029"></a>00029 
<a name="l00038"></a><a class="code" href="a00011.html">00038</a> <span class="keyword">class </span><a class="code" href="a00011.html" title="Timeout is a simple wrapper around Sptread::sp_time the Spread C API&amp;#39;s Spread::sp_time...">Timeout</a> {
<a name="l00039"></a>00039   Spread::sp_time time;
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 <span class="keyword">public</span>:
<a name="l00048"></a><a class="code" href="a00011.html#fdb61c75ac0d9d59255c9a39e2be595a">00048</a>   <a class="code" href="a00011.html" title="Timeout is a simple wrapper around Sptread::sp_time the Spread C API&amp;#39;s Spread::sp_time...">Timeout</a>(<span class="keyword">const</span> Spread::sp_time time) : time(time) { }
<a name="l00049"></a>00049 
<a name="l00059"></a><a class="code" href="a00011.html#6bd0249d056a0e66a8d200f4ac8e9b69">00059</a>   <a class="code" href="a00011.html" title="Timeout is a simple wrapper around Sptread::sp_time the Spread C API&amp;#39;s Spread::sp_time...">Timeout</a>(<span class="keyword">const</span> <span class="keywordtype">long</span> sec = 0, <span class="keyword">const</span> <span class="keywordtype">long</span> usec = 0) {
<a name="l00060"></a>00060     time.sec = sec, time.usec = usec;
<a name="l00061"></a>00061   }
<a name="l00062"></a>00062 
<a name="l00068"></a><a class="code" href="a00011.html#2acde73e4cad6a65b21e2c2e6cf24778">00068</a>   operator Spread::sp_time()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> time; }
<a name="l00069"></a>00069 };
<a name="l00070"></a>00070 
<a name="l00160"></a><a class="code" href="a00007.html">00160</a> <span class="keyword">class </span><a class="code" href="a00007.html" title="The Mailbox class wraps the file descriptor returned after establishing a connection...">Mailbox</a> {
<a name="l00161"></a>00161 <span class="keyword">public</span>:
<a name="l00163"></a><a class="code" href="a00007.html#37d9198b7f8739e6da16e948ab728dde">00163</a>   <span class="keyword">typedef</span> Spread::mailbox descriptor_type;
<a name="l00164"></a>00164 
<a name="l00165"></a><a class="code" href="a00007.html#c383c61b0e9488d278df1540dfd9325e">00165</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="a00011.html" title="Timeout is a simple wrapper around Sptread::sp_time the Spread C API&amp;#39;s Spread::sp_time...">Timeout</a> ZeroTimeout;
<a name="l00166"></a>00166 
<a name="l00171"></a><a class="code" href="a00007.html#8e3be2fa17ee151c83138e8b7a9e1b47">00171</a>   <span class="keyword">enum</span> <a class="code" href="a00007.html#8e3be2fa17ee151c83138e8b7a9e1b47" title="The Priority enumeration defines the priority levels for establishing a mailbox connection...">Priority</a> {
<a name="l00172"></a><a class="code" href="a00007.html#8e3be2fa17ee151c83138e8b7a9e1b4733576a9c178c91b581bd4b420e02b45a">00172</a>     Low = LOW_PRIORITY, Medium = MEDIUM_PRIORITY, High = HIGH_PRIORITY
<a name="l00173"></a>00173   };
<a name="l00174"></a>00174 
<a name="l00175"></a>00175 <span class="keyword">private</span>:
<a name="l00176"></a>00176   <span class="keywordtype">bool</span> _group_membership, _drop_receive, _killed;
<a name="l00177"></a>00177   <span class="keywordtype">string</span> _connection, _name, _private_group;
<a name="l00178"></a>00178   descriptor_type _mbox;
<a name="l00179"></a>00179   <a class="code" href="a00010.html" title="ScatterMessage is a reusable container of multiple in-place data buffers.">ScatterMessage</a> _scatter;
<a name="l00180"></a>00180   <a class="code" href="a00006.html" title="GroupList is a container for Spread group names.">GroupList</a> _groups;
<a name="l00181"></a>00181 
<a name="l00182"></a>00182 <span class="keyword">public</span>:
<a name="l00183"></a>00183 
<a name="l00184"></a>00184   <span class="keyword">explicit</span> <a class="code" href="a00007.html" title="The Mailbox class wraps the file descriptor returned after establishing a connection...">Mailbox</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp; connection = <span class="stringliteral">""</span>, <span class="keyword">const</span> <span class="keywordtype">string</span> &amp; name = <span class="stringliteral">""</span>,
<a name="l00185"></a>00185                    <span class="keyword">const</span> <span class="keywordtype">bool</span> group_membership = <span class="keyword">true</span>,
<a name="l00186"></a>00186                    <span class="keyword">const</span> <a class="code" href="a00011.html" title="Timeout is a simple wrapper around Sptread::sp_time the Spread C API&amp;#39;s Spread::sp_time...">Timeout</a> &amp; timeout = ZeroTimeout,
<a name="l00187"></a>00187                    <span class="keyword">const</span> Priority priority = Medium) SSRC_DECL_THROW(<a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>);
<a name="l00188"></a>00188 
<a name="l00193"></a><a class="code" href="a00007.html#280032aa203d36255480fdc9a81cfc13">00193</a>   ~<a class="code" href="a00007.html" title="The Mailbox class wraps the file descriptor returned after establishing a connection...">Mailbox</a>() {
<a name="l00194"></a>00194     <span class="keywordflow">if</span>(!killed())
<a name="l00195"></a>00195       Spread::SP_disconnect(_mbox);
<a name="l00196"></a>00196   }
<a name="l00197"></a>00197 
<a name="l00202"></a><a class="code" href="a00007.html#4972deb8479a16544f44b4e1fd473c1f">00202</a>   <span class="keyword">const</span> <span class="keywordtype">string</span> &amp; connection()<span class="keyword"> const </span>{
<a name="l00203"></a>00203     <span class="keywordflow">return</span> _connection;
<a name="l00204"></a>00204   }
<a name="l00205"></a>00205 
<a name="l00210"></a><a class="code" href="a00007.html#41df0a18233b418707c517fc73c98309">00210</a>   <span class="keyword">const</span> <span class="keywordtype">string</span> &amp; name()<span class="keyword"> const </span>{
<a name="l00211"></a>00211     <span class="keywordflow">return</span> _name;
<a name="l00212"></a>00212   }
<a name="l00213"></a>00213 
<a name="l00220"></a><a class="code" href="a00007.html#bd65b1e66d3414ec321dee2f39f2759f">00220</a>   descriptor_type descriptor()<span class="keyword"> const </span>{
<a name="l00221"></a>00221     <span class="keywordflow">return</span> _mbox;
<a name="l00222"></a>00222   }
<a name="l00223"></a>00223 
<a name="l00228"></a><a class="code" href="a00007.html#c3467466606f7fc578b218b3bff401de">00228</a>   <span class="keyword">const</span> <span class="keywordtype">string</span> &amp; private_group()<span class="keyword"> const </span>{
<a name="l00229"></a>00229     <span class="keywordflow">return</span> _private_group;
<a name="l00230"></a>00230   }
<a name="l00231"></a>00231 
<a name="l00238"></a><a class="code" href="a00007.html#54a50d039d984a583b950f138ffe689a">00238</a>   <span class="keywordtype">bool</span> group_membership()<span class="keyword"> const </span>{
<a name="l00239"></a>00239     <span class="keywordflow">return</span> _group_membership;
<a name="l00240"></a>00240   }
<a name="l00241"></a>00241 
<a name="l00249"></a><a class="code" href="a00007.html#e4913e67b7eb00f243a769f57e8bf382">00249</a>   <span class="keywordtype">void</span> set_drop_receive(<span class="keyword">const</span> <span class="keywordtype">bool</span> drop = <span class="keyword">true</span>) {
<a name="l00250"></a>00250     _drop_receive = drop;
<a name="l00251"></a>00251   }
<a name="l00252"></a>00252 
<a name="l00257"></a><a class="code" href="a00007.html#01d7f4830bd7135fcbcf376aa0ebb273">00257</a>   <span class="keywordtype">bool</span> drop_receive()<span class="keyword"> const </span>{
<a name="l00258"></a>00258     <span class="keywordflow">return</span> _drop_receive;
<a name="l00259"></a>00259   }
<a name="l00260"></a>00260 
<a name="l00267"></a><a class="code" href="a00007.html#1414af53f4dec91120111973498417a4">00267</a>   <span class="keywordtype">void</span> join(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp; group) SSRC_DECL_THROW(<a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>) {
<a name="l00268"></a>00268     <span class="keywordtype">int</span> result = Spread::SP_join(_mbox, group.c_str());
<a name="l00269"></a>00269     <span class="keywordflow">if</span>(result != 0)
<a name="l00270"></a>00270       <span class="keywordflow">throw</span> <a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>(result);
<a name="l00271"></a>00271   }
<a name="l00272"></a>00272 
<a name="l00279"></a><a class="code" href="a00007.html#30efb233ea383bfaabb80c7e04e83cbc">00279</a>   <span class="keywordtype">void</span> leave(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp; group) SSRC_DECL_THROW(<a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>) {
<a name="l00280"></a>00280     <span class="keywordtype">int</span> result = Spread::SP_leave(_mbox, group.c_str());
<a name="l00281"></a>00281     <span class="keywordflow">if</span>(result != 0)
<a name="l00282"></a>00282       <span class="keywordflow">throw</span> <a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>(result);
<a name="l00283"></a>00283   }
<a name="l00284"></a>00284 
<a name="l00285"></a>00285 <span class="preprocessor">#ifdef LIBSSRCSPREAD_ENABLE_MAILBOX_KILL</span>
<a name="l00286"></a>00286 <span class="preprocessor"></span>
<a name="l00296"></a><a class="code" href="a00007.html#050fbc457d1e469ecef9a135312d68af">00296</a>   <span class="keywordtype">void</span> kill() {
<a name="l00297"></a>00297     Spread::SP_kill(_mbox);
<a name="l00298"></a>00298     _killed = <span class="keyword">true</span>;
<a name="l00299"></a>00299   }
<a name="l00300"></a>00300 <span class="preprocessor">#endif</span>
<a name="l00301"></a>00301 <span class="preprocessor"></span>
<a name="l00310"></a><a class="code" href="a00007.html#590c89aff2cd3d07e7272135acbaf77a">00310</a>   <span class="keywordtype">bool</span> killed()<span class="keyword"> const </span>{
<a name="l00311"></a>00311     <span class="keywordflow">return</span> _killed;
<a name="l00312"></a>00312   }
<a name="l00313"></a>00313 
<a name="l00322"></a><a class="code" href="a00007.html#63963f1e3cd96df99681e8d1f39c36fe">00322</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> poll() const SSRC_DECL_THROW(<a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>) {
<a name="l00323"></a>00323     <span class="keywordtype">int</span> result = Spread::SP_poll(_mbox);
<a name="l00324"></a>00324     <span class="keywordflow">if</span>(result &lt; 0)
<a name="l00325"></a>00325       <span class="keywordflow">throw</span> Error(result);
<a name="l00326"></a>00326     <span class="keywordflow">return</span> result;
<a name="l00327"></a>00327   }
<a name="l00328"></a>00328 
<a name="l00335"></a><a class="code" href="a00007.html#12156b3d3dc7b4033416391f680e189c">00335</a>   <span class="keywordtype">bool</span> add_message_part(<span class="keyword">const</span> <span class="keywordtype">void</span> *data, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size) {
<a name="l00336"></a>00336     <span class="keywordflow">return</span> _scatter.add(data, size);
<a name="l00337"></a>00337   }
<a name="l00338"></a>00338 
<a name="l00348"></a><a class="code" href="a00007.html#233836647725fab04e192145f9c73426">00348</a>   <span class="keywordtype">bool</span> add_message_part(<span class="keyword">const</span> <a class="code" href="a00009.html" title="Message is a reusable and resizable data buffer for sending and receiving messages...">Message</a> &amp; message) {
<a name="l00349"></a>00349     <span class="keywordflow">return</span> _scatter.add(message);
<a name="l00350"></a>00350   }
<a name="l00351"></a>00351 
<a name="l00357"></a><a class="code" href="a00007.html#4060fcc9ffa89468a667eabff4dab004">00357</a>   <span class="keywordtype">void</span> add_group(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp; group) {
<a name="l00358"></a>00358     _groups.add(group);
<a name="l00359"></a>00359   }
<a name="l00360"></a>00360 
<a name="l00366"></a><a class="code" href="a00007.html#0d89e2697926bcfa96b19064d0686647">00366</a>   <span class="keywordtype">void</span> add_groups(<span class="keyword">const</span> <a class="code" href="a00006.html" title="GroupList is a container for Spread group names.">GroupList</a> &amp; groups) {
<a name="l00367"></a>00367     _groups.add(groups);
<a name="l00368"></a>00368   }
<a name="l00369"></a>00369 
<a name="l00378"></a><a class="code" href="a00007.html#e67a74bc68581446525345e8c89ef0d4">00378</a>   <span class="keywordtype">string</span> group(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index)<span class="keyword"> const </span>{
<a name="l00379"></a>00379     <span class="keywordflow">return</span> _groups[index];
<a name="l00380"></a>00380   }
<a name="l00381"></a>00381 
<a name="l00387"></a><a class="code" href="a00007.html#f1302afaf5f4b3f9eea348add4a08162">00387</a>   <span class="keywordtype">void</span> copy_groups(<a class="code" href="a00006.html" title="GroupList is a container for Spread group names.">GroupList</a> &amp; groups) {
<a name="l00388"></a>00388     groups = _groups;
<a name="l00389"></a>00389   }
<a name="l00390"></a>00390 
<a name="l00395"></a><a class="code" href="a00007.html#8c934de689320f05c9299ddfc1aef293">00395</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count_groups()<span class="keyword"> const </span>{
<a name="l00396"></a>00396     <span class="keywordflow">return</span> _groups.<a class="code" href="a00006.html#24a3f997ba9753039410ca07f3f0889d" title="Returns the number of groups in the list.">size</a>();
<a name="l00397"></a>00397   }
<a name="l00398"></a>00398 
<a name="l00402"></a><a class="code" href="a00007.html#db3ca63f823743d8f344f8e14bd38134">00402</a>   <span class="keywordtype">void</span> clear_groups() {
<a name="l00403"></a>00403     _groups.clear();
<a name="l00404"></a>00404   }
<a name="l00405"></a>00405 
<a name="l00410"></a><a class="code" href="a00007.html#7cb9debe62f76bec9db8d6497721da2a">00410</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count_message_parts()<span class="keyword"> const </span>{
<a name="l00411"></a>00411     <span class="keywordflow">return</span> _scatter.count_message_parts();
<a name="l00412"></a>00412   }
<a name="l00413"></a>00413 
<a name="l00417"></a><a class="code" href="a00007.html#de25f0e1ce5de4d3d118192c6bc67f2b">00417</a>   <span class="keywordtype">void</span> clear_message_parts() {
<a name="l00418"></a>00418     _scatter.clear();
<a name="l00419"></a>00419   }
<a name="l00420"></a>00420 
<a name="l00421"></a>00421   <span class="keywordtype">int</span> send(<span class="keyword">const</span> <a class="code" href="a00009.html" title="Message is a reusable and resizable data buffer for sending and receiving messages...">Message</a> &amp; message, <span class="keyword">const</span> <span class="keywordtype">string</span> &amp; group)
<a name="l00422"></a>00422     SSRC_DECL_THROW(<a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>);
<a name="l00423"></a>00423 
<a name="l00424"></a>00424   <span class="keywordtype">int</span> send(<span class="keyword">const</span> <a class="code" href="a00009.html" title="Message is a reusable and resizable data buffer for sending and receiving messages...">Message</a> &amp; message, <span class="keyword">const</span> <a class="code" href="a00006.html" title="GroupList is a container for Spread group names.">GroupList</a> &amp; groups)
<a name="l00425"></a>00425     SSRC_DECL_THROW(<a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>);
<a name="l00426"></a>00426 
<a name="l00427"></a>00427   <span class="keywordtype">int</span> send(<span class="keyword">const</span> <a class="code" href="a00010.html" title="ScatterMessage is a reusable container of multiple in-place data buffers.">ScatterMessage</a> &amp; message, <span class="keyword">const</span> <a class="code" href="a00006.html" title="GroupList is a container for Spread group names.">GroupList</a> &amp; groups)
<a name="l00428"></a>00428     SSRC_DECL_THROW(<a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>);
<a name="l00429"></a>00429 
<a name="l00434"></a><a class="code" href="a00007.html#6cc9836ea8f47e73460b69464f28a128">00434</a>   <span class="keywordtype">int</span> send(<span class="keyword">const</span> <a class="code" href="a00010.html" title="ScatterMessage is a reusable container of multiple in-place data buffers.">ScatterMessage</a> &amp; message, <span class="keyword">const</span> <span class="keywordtype">string</span> &amp; group)
<a name="l00435"></a>00435     SSRC_DECL_THROW(<a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>)
<a name="l00436"></a>00436   {
<a name="l00437"></a>00437     clear_groups();
<a name="l00438"></a>00438     add_group(group);
<a name="l00439"></a>00439     <span class="keywordflow">return</span> send(message, _groups);
<a name="l00440"></a>00440   }
<a name="l00441"></a>00441 
<a name="l00449"></a><a class="code" href="a00007.html#91e1ae572c712b7239ebf4c863c5d1bc">00449</a>   <span class="keywordtype">int</span> send(<span class="keyword">const</span> <a class="code" href="a00006.html" title="GroupList is a container for Spread group names.">GroupList</a> &amp; groups, <span class="keyword">const</span> BaseMessage::message_type type = 0,
<a name="l00450"></a>00450            <span class="keyword">const</span> BaseMessage::service_type service = BaseMessage::Safe)
<a name="l00451"></a>00451     SSRC_DECL_THROW(<a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>)
<a name="l00452"></a>00452   {
<a name="l00453"></a>00453     _scatter.set_type(type);
<a name="l00454"></a>00454     _scatter.set_service(service);
<a name="l00455"></a>00455     <span class="keywordflow">return</span> send(_scatter, groups);
<a name="l00456"></a>00456   }
<a name="l00457"></a>00457 
<a name="l00464"></a><a class="code" href="a00007.html#8b00c6bbc44d687e0d55e312457aa5e5">00464</a>   <span class="keywordtype">int</span> send(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp; group, <span class="keyword">const</span> BaseMessage::message_type type = 0,
<a name="l00465"></a>00465            <span class="keyword">const</span> BaseMessage::service_type service = BaseMessage::Safe)
<a name="l00466"></a>00466     SSRC_DECL_THROW(<a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>)
<a name="l00467"></a>00467   {
<a name="l00468"></a>00468     clear_groups();
<a name="l00469"></a>00469     add_group(group);
<a name="l00470"></a>00470     <span class="keywordflow">return</span> send(_groups, type, service);
<a name="l00471"></a>00471   }
<a name="l00472"></a>00472 
<a name="l00479"></a><a class="code" href="a00007.html#c56da26334881c9fdfd0c50ed3e4bb80">00479</a>   <span class="keywordtype">int</span> send(<span class="keyword">const</span> BaseMessage::message_type type = 0,
<a name="l00480"></a>00480            <span class="keyword">const</span> BaseMessage::service_type service = BaseMessage::Safe)
<a name="l00481"></a>00481     SSRC_DECL_THROW(<a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>)
<a name="l00482"></a>00482   {
<a name="l00483"></a>00483     <span class="keywordflow">return</span> send(_groups, type, service);
<a name="l00484"></a>00484   }
<a name="l00485"></a>00485 
<a name="l00491"></a><a class="code" href="a00007.html#b493a05bc97d9b5c82c175c267ce679d">00491</a>   <span class="keywordtype">int</span> send(<span class="keyword">const</span> <a class="code" href="a00009.html" title="Message is a reusable and resizable data buffer for sending and receiving messages...">Message</a> &amp; message) SSRC_DECL_THROW(<a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>) {
<a name="l00492"></a>00492     <span class="keywordflow">return</span> send(message, _groups);
<a name="l00493"></a>00493   }
<a name="l00494"></a>00494 
<a name="l00500"></a><a class="code" href="a00007.html#59814a1cea5c3c10f8cc99c80fd8f8e3">00500</a>   <span class="keywordtype">int</span> send(<span class="keyword">const</span> <a class="code" href="a00010.html" title="ScatterMessage is a reusable container of multiple in-place data buffers.">ScatterMessage</a> &amp; message) SSRC_DECL_THROW(<a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>) {
<a name="l00501"></a>00501     <span class="keywordflow">return</span> send(message, _groups);
<a name="l00502"></a>00502   }
<a name="l00503"></a>00503 
<a name="l00504"></a>00504   <span class="keywordtype">int</span> receive(<a class="code" href="a00010.html" title="ScatterMessage is a reusable container of multiple in-place data buffers.">ScatterMessage</a> &amp; message, <a class="code" href="a00006.html" title="GroupList is a container for Spread group names.">GroupList</a> &amp; groups)
<a name="l00505"></a>00505     SSRC_DECL_THROW(<a class="code" href="a00003.html" title="BufferSizeError is a container for a BufferTooShort or GroupTooShort errror, reporting...">BufferSizeError</a>, <a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>);
<a name="l00506"></a>00506 
<a name="l00513"></a><a class="code" href="a00007.html#63e9e1cfb6f06437905c2ca15eacafc1">00513</a>   <span class="keywordtype">int</span> receive(<a class="code" href="a00009.html" title="Message is a reusable and resizable data buffer for sending and receiving messages...">Message</a> &amp; message, <a class="code" href="a00006.html" title="GroupList is a container for Spread group names.">GroupList</a> &amp; groups)
<a name="l00514"></a>00514     SSRC_DECL_THROW(<a class="code" href="a00003.html" title="BufferSizeError is a container for a BufferTooShort or GroupTooShort errror, reporting...">BufferSizeError</a>, <a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>)
<a name="l00515"></a>00515   {
<a name="l00516"></a>00516     clear_message_parts();
<a name="l00517"></a>00517     add_message_part(message);
<a name="l00518"></a>00518     <span class="keywordflow">return</span> receive(_scatter, groups);
<a name="l00519"></a>00519   }
<a name="l00520"></a>00520 
<a name="l00528"></a><a class="code" href="a00007.html#f9c56acd1c2df1aa9681f27f125a2925">00528</a>   <span class="keywordtype">int</span> receive(<a class="code" href="a00006.html" title="GroupList is a container for Spread group names.">GroupList</a> &amp; groups) SSRC_DECL_THROW(<a class="code" href="a00003.html" title="BufferSizeError is a container for a BufferTooShort or GroupTooShort errror, reporting...">BufferSizeError</a>, <a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>) {
<a name="l00529"></a>00529     <span class="keywordflow">return</span> receive(_scatter, groups);
<a name="l00530"></a>00530   }
<a name="l00531"></a>00531 
<a name="l00539"></a><a class="code" href="a00007.html#9c9b89a6d50594a6feaa48867e1cc132">00539</a>   <span class="keywordtype">int</span> receive(<a class="code" href="a00009.html" title="Message is a reusable and resizable data buffer for sending and receiving messages...">Message</a> &amp; message) SSRC_DECL_THROW(<a class="code" href="a00003.html" title="BufferSizeError is a container for a BufferTooShort or GroupTooShort errror, reporting...">BufferSizeError</a>, <a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>) {
<a name="l00540"></a>00540     <span class="keywordflow">return</span> receive(message, _groups);
<a name="l00541"></a>00541   }
<a name="l00542"></a>00542 
<a name="l00550"></a><a class="code" href="a00007.html#174a2477814667a261c3e37b2f0803e0">00550</a>   <span class="keywordtype">int</span> receive(<a class="code" href="a00010.html" title="ScatterMessage is a reusable container of multiple in-place data buffers.">ScatterMessage</a> &amp; message)
<a name="l00551"></a>00551     SSRC_DECL_THROW(<a class="code" href="a00003.html" title="BufferSizeError is a container for a BufferTooShort or GroupTooShort errror, reporting...">BufferSizeError</a>, <a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>)
<a name="l00552"></a>00552   {
<a name="l00553"></a>00553     <span class="keywordflow">return</span> receive(message, _groups);
<a name="l00554"></a>00554   }
<a name="l00555"></a>00555 
<a name="l00563"></a><a class="code" href="a00007.html#c169b3da5ef54fd28d308a6b76a29847">00563</a>   <span class="keywordtype">int</span> receive() SSRC_DECL_THROW(<a class="code" href="a00003.html" title="BufferSizeError is a container for a BufferTooShort or GroupTooShort errror, reporting...">BufferSizeError</a>, <a class="code" href="a00005.html" title="Error is a container for a Spread error code and is thrown by the library in only...">Error</a>) {
<a name="l00564"></a>00564     <span class="keywordflow">return</span> receive(_scatter, _groups);
<a name="l00565"></a>00565   }
<a name="l00566"></a>00566 
<a name="l00567"></a>00567 };
<a name="l00568"></a>00568 
<a name="l00569"></a>00569 <a class="code" href="a00019.html#f075ee1a7a8c2e28536978317b0f4aff">__END_NS_SSRC_SPREAD</a>
<a name="l00570"></a>00570 
<a name="l00571"></a>00571 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr />
<div style="float: left;">
<a href="http://www.savarese.com/"><img src="logoSmall.jpg"
alt="Savarese Software Research Corporation" width="144" height="36" border="0" align="top"
hspace="0" vspace="0"></img></a>
</div>
<div style="text-align:right">
Copyright &#169; 2006-2009 Savarese Software Research Corporation. All rights reserved.
</div>
</body></html>
